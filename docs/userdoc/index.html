
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>User documentation &#8212; permon 2.0.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="Contributor documentation" href="../contributordoc/" />
    <link rel="prev" title="Welcome to permon’s documentation!" href="../documentation/" />
    <link rel="apple-touch-icon" sizes="180x180" href="https://bminixhofer.github.io/permon/_static/assets/icon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://bminixhofer.github.io/permon/_static/assets/icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://bminixhofer.github.io/permon/_static/assets/icon/favicon-16x16.png">
    <link rel="manifest" href="https://bminixhofer.github.io/permon/_static/assets/icon/site.webmanifest">
    <link rel="mask-icon" href="https://bminixhofer.github.io/permon/_static/assets/icon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="https://bminixhofer.github.io/permon/_static/assets/icon/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="https://bminixhofer.github.io/permon/_static/assets/icon/browserconfig.xml">
    <meta name="theme-color" content="#48cfad">
    <link rel="stylesheet" href="https://bminixhofer.github.io/permon/_static/style.min.css">
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    

  </head><body>
<div class="header">
    <h1>permon<br/><a class="github-button" href="https://github.com/bminixhofer/permon" data-size="large" data-show-count="true"
        aria-label="Star bminixhofer/permon on GitHub">Star</a></h1>
    <br />
    <code>pip install permon</code>
    <nav>
        <button ><a href="https://bminixhofer.github.io/permon/">Introduction</a></button>
        <button class="selected"><a href="https://bminixhofer.github.io/permon/documentation">Documentation</a></button>
    </nav>
</div>

  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="user-documentation">
<h1>User documentation<a class="headerlink" href="#user-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-is-permon">
<h2>What is Permon?<a class="headerlink" href="#what-is-permon" title="Permalink to this headline">¶</a></h2>
<p>Permon is a tool to display live line charts in a clear, uncluttered way. Permon comes prepackaged
with a lot of useful stats for monitoring the performance of your PC. It is developed with a focus
on only showing you things you care about, not everything you can monitor in your system.</p>
<p>Permon is developed in Python 3. There is a good chance you already have Python on your system. If
not, install it (recommended: <a class="reference external" href="https://conda.io/miniconda.html/">Miniconda</a>. Run <code class="docutils literal notranslate"><span class="pre">pip</span>
<span class="pre">install</span> <span class="pre">permon</span></code> in your preferred command line to install permon. Permon can then be started from the command line.</p>
<div class="section" id="synopsis">
<h3>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">permon</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">version</span><span class="p">]</span> <span class="p">{</span><span class="n">terminal</span><span class="p">,</span><span class="n">native</span><span class="p">,</span><span class="n">browser</span><span class="p">,</span><span class="n">config</span><span class="p">,</span><span class="n">password</span><span class="p">}</span> <span class="o">...</span>
</pre></div>
</div>
<div class="section" id="Positional Arguments">
<h4>Positional Arguments<a class="headerlink" href="#Positional Arguments" title="Permalink to this headline">¶</a></h4>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd>subcommand</kbd></td>
<td><p class="first">Possible choices: terminal, native, browser, config, password</p>
<p>the subcommand to launch.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">terminal</span></code>, <code class="docutils literal notranslate"><span class="pre">browser</span></code> or <code class="docutils literal notranslate"><span class="pre">native</span></code>, runs the respective frontend.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">config</span></code>, runs command to interact with configuration.</p>
<p class="last">When <code class="docutils literal notranslate"><span class="pre">password</span></code>, runs command to set permon’s password.</p>
</td></tr>
</tbody>
</table>
</div>
<div class="section" id="Named Arguments">
<h4>Named Arguments<a class="headerlink" href="#Named Arguments" title="Permalink to this headline">¶</a></h4>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd>--version</kbd></td>
<td><p class="first">show permon’s version and exit</p>
<p class="last">Default: False</p>
</td></tr>
</tbody>
</table>
</div>
<div class="section" id="Sub-commands:">
<h4>Sub-commands:<a class="headerlink" href="#Sub-commands:" title="Permalink to this headline">¶</a></h4>
<div class="section" id="terminal">
<h5>terminal<a class="headerlink" href="#terminal" title="Permalink to this headline">¶</a></h5>
<p>Starts permon’s terminal frontend.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">permon</span> <span class="n">terminal</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">fps</span> <span class="n">FPS</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">verbose</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">buffer</span><span class="o">-</span><span class="n">size</span> <span class="n">BUFFER_SIZE</span><span class="p">]</span>
                <span class="p">[</span><span class="n">stats</span> <span class="p">[</span><span class="n">stats</span> <span class="o">...</span><span class="p">]]</span>
</pre></div>
</div>
<div class="section" id="Positional Arguments_repeat1">
<h6>Positional Arguments<a class="headerlink" href="#Positional Arguments_repeat1" title="Permalink to this headline">¶</a></h6>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd>stats</kbd></td>
<td><p class="first">which stats to display
If none are given, take those from the config file (core.cpu_usage, core.ram_usage, core.read_speed, core.write_speed, core.vram_usage)</p>
<p class="last">Default: [‘core.cpu_usage’, ‘core.ram_usage’, ‘core.read_speed’, ‘core.write_speed’, ‘core.vram_usage’]</p>
</td></tr>
</tbody>
</table>
</div>
<div class="section" id="Named Arguments_repeat1">
<h6>Named Arguments<a class="headerlink" href="#Named Arguments_repeat1" title="Permalink to this headline">¶</a></h6>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd>--fps</kbd></td>
<td>the frames per second the display moves with</td></tr>
<tr><td class="option-group">
<kbd>--verbose</kbd></td>
<td><p class="first">whether to enable verbose logging</p>
<p class="last">Default: True</p>
</td></tr>
<tr><td class="option-group">
<kbd>--buffer-size</kbd></td>
<td>the number of points displayed on the screen at any time</td></tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="native">
<h5>native<a class="headerlink" href="#native" title="Permalink to this headline">¶</a></h5>
<p>Starts permon’s native frontend.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">permon</span> <span class="n">native</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">fps</span> <span class="n">FPS</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">verbose</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">buffer</span><span class="o">-</span><span class="n">size</span> <span class="n">BUFFER_SIZE</span><span class="p">]</span>
              <span class="p">[</span><span class="n">stats</span> <span class="p">[</span><span class="n">stats</span> <span class="o">...</span><span class="p">]]</span>
</pre></div>
</div>
<div class="section" id="Positional Arguments_repeat2">
<h6>Positional Arguments<a class="headerlink" href="#Positional Arguments_repeat2" title="Permalink to this headline">¶</a></h6>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd>stats</kbd></td>
<td><p class="first">which stats to display
If none are given, take those from the config file (core.cpu_usage, core.ram_usage, core.read_speed, core.write_speed, core.vram_usage)</p>
<p class="last">Default: [‘core.cpu_usage’, ‘core.ram_usage’, ‘core.read_speed’, ‘core.write_speed’, ‘core.vram_usage’]</p>
</td></tr>
</tbody>
</table>
</div>
<div class="section" id="Named Arguments_repeat2">
<h6>Named Arguments<a class="headerlink" href="#Named Arguments_repeat2" title="Permalink to this headline">¶</a></h6>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd>--fps</kbd></td>
<td>the frames per second the display moves with</td></tr>
<tr><td class="option-group">
<kbd>--verbose</kbd></td>
<td><p class="first">whether to enable verbose logging</p>
<p class="last">Default: True</p>
</td></tr>
<tr><td class="option-group">
<kbd>--buffer-size</kbd></td>
<td>the number of points displayed on the screen at any time</td></tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="browser">
<h5>browser<a class="headerlink" href="#browser" title="Permalink to this headline">¶</a></h5>
<p>Starts permon’s browser frontend.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">permon</span> <span class="n">browser</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">port</span> <span class="n">PORT</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">ip</span> <span class="n">IP</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">browser</span><span class="p">]</span>
               <span class="p">[</span><span class="o">--</span><span class="n">certfile</span> <span class="n">CERTFILE</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">keyfile</span> <span class="n">KEYFILE</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">fps</span> <span class="n">FPS</span><span class="p">]</span>
               <span class="p">[</span><span class="o">--</span><span class="n">verbose</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">buffer</span><span class="o">-</span><span class="n">size</span> <span class="n">BUFFER_SIZE</span><span class="p">]</span>
               <span class="p">[</span><span class="n">stats</span> <span class="p">[</span><span class="n">stats</span> <span class="o">...</span><span class="p">]]</span>
</pre></div>
</div>
<div class="section" id="Positional Arguments_repeat3">
<h6>Positional Arguments<a class="headerlink" href="#Positional Arguments_repeat3" title="Permalink to this headline">¶</a></h6>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd>stats</kbd></td>
<td><p class="first">which stats to display
If none are given, take those from the config file (core.cpu_usage, core.ram_usage, core.read_speed, core.write_speed, core.vram_usage)</p>
<p class="last">Default: [‘core.cpu_usage’, ‘core.ram_usage’, ‘core.read_speed’, ‘core.write_speed’, ‘core.vram_usage’]</p>
</td></tr>
</tbody>
</table>
</div>
<div class="section" id="Named Arguments_repeat3">
<h6>Named Arguments<a class="headerlink" href="#Named Arguments_repeat3" title="Permalink to this headline">¶</a></h6>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd>--port</kbd></td>
<td><p class="first">the port permon will listen on</p>
<p class="last">Default: 1234</p>
</td></tr>
<tr><td class="option-group">
<kbd>--ip</kbd></td>
<td><p class="first">the IP address permon will listen on</p>
<p class="last">Default: “localhost”</p>
</td></tr>
<tr><td class="option-group">
<kbd>--no-browser</kbd></td>
<td><p class="first">don’t open permon in a browser after startup</p>
<p class="last">Default: False</p>
</td></tr>
<tr><td class="option-group">
<kbd>--certfile</kbd></td>
<td>the path to an SSL/TLS certificate file</td></tr>
<tr><td class="option-group">
<kbd>--keyfile</kbd></td>
<td>the path to a private key file for usage with SSL/TLS</td></tr>
<tr><td class="option-group">
<kbd>--fps</kbd></td>
<td>the frames per second the display moves with</td></tr>
<tr><td class="option-group">
<kbd>--verbose</kbd></td>
<td><p class="first">whether to enable verbose logging</p>
<p class="last">Default: True</p>
</td></tr>
<tr><td class="option-group">
<kbd>--buffer-size</kbd></td>
<td>the number of points displayed on the screen at any time</td></tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="config">
<h5>config<a class="headerlink" href="#config" title="Permalink to this headline">¶</a></h5>
<p>Command to interact with the configuration of permon.
Default configuration:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;stats&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;core.cpu_usage&quot;</span><span class="p">,</span>
        <span class="s2">&quot;core.ram_usage&quot;</span><span class="p">,</span>
        <span class="s2">&quot;core.read_speed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;core.write_speed&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;colors&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;#ed5565&quot;</span><span class="p">,</span>
        <span class="s2">&quot;#ffce54&quot;</span><span class="p">,</span>
        <span class="s2">&quot;#48cfad&quot;</span><span class="p">,</span>
        <span class="s2">&quot;#sd9cec&quot;</span><span class="p">,</span>
        <span class="s2">&quot;#ec87c0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;#fc6e51&quot;</span><span class="p">,</span>
        <span class="s2">&quot;#a0d468&quot;</span><span class="p">,</span>
        <span class="s2">&quot;#4fc1e9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;#ac92ec&quot;</span>
    <span class="p">],</span>
    <span class="s2">&quot;verbose&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span><span class="o">:</span> <span class="kc">null</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Stats can either be specified by their tag name like in the default config or
by a dictionary with keys <code class="docutils literal notranslate"><span class="pre">tag</span></code> and <code class="docutils literal notranslate"><span class="pre">settings</span></code> where <code class="docutils literal notranslate"><span class="pre">settings</span></code> is a
dictionary consisting of keys and values specifying the value of settings
for the respective stat e. g.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">...</span>
<span class="s2">&quot;stats&quot;</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;tag&quot;</span><span class="o">:</span> <span class="s2">&quot;jupyter.ram_usage&quot;</span><span class="p">,</span>
        <span class="s2">&quot;settings&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;connection info&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;query interval [s]&quot;</span><span class="o">:</span> <span class="mi">1</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">]</span>
<span class="p">...</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">permon</span> <span class="n">config</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">{</span><span class="n">edit</span><span class="p">,</span><span class="n">show</span><span class="p">,</span><span class="n">reset</span><span class="p">}</span>
</pre></div>
</div>
<div class="section" id="Positional Arguments_repeat4">
<h6>Positional Arguments<a class="headerlink" href="#Positional Arguments_repeat4" title="Permalink to this headline">¶</a></h6>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd>command</kbd></td>
<td><p class="first">Possible choices: edit, show, reset</p>
<p>Which command to run.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">edit</span></code>, opens your preferred editor to edit the config.json file.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">show</span></code>, prints your current configuriation file and directory.</p>
<p class="last">When <code class="docutils literal notranslate"><span class="pre">reset</span></code>, resets configuration to the defaults.</p>
</td></tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="password">
<h5>password<a class="headerlink" href="#password" title="Permalink to this headline">¶</a></h5>
<p>Open dialog to set permon’s password.
The password is currently only used for authentication in the browser frontend.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">permon</span> <span class="n">password</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="stats">
<h2>Stats<a class="headerlink" href="#stats" title="Permalink to this headline">¶</a></h2>
<p>Permon comes prepackaged with some useful stats to monitor the performance of your PC. You can also add custom stats to Permon.
See <a class="reference internal" href="#extending-permon-with-custom-stats">Extending permon with custom stats</a> to see how to do that. The following stats are always part of Permon:</p>
<dl class="class">
<dt id="permon.backend.stats.core.CPUStat">
<em class="property">class </em><code class="descclassname">permon.backend.stats.core.</code><code class="descname">CPUStat</code><a class="headerlink" href="#permon.backend.stats.core.CPUStat" title="Permalink to this definition">¶</a></dt>
<dd><p>tag: <code class="docutils literal notranslate"><span class="pre">core.cpu_usage</span></code></p>
<p>settings: none</p>
<p>Tracks the CPU usage of the user.
Also returns the top contributors to the CPU usage.</p>
</dd></dl>

<dl class="class">
<dt id="permon.backend.stats.core.RAMStat">
<em class="property">class </em><code class="descclassname">permon.backend.stats.core.</code><code class="descname">RAMStat</code><a class="headerlink" href="#permon.backend.stats.core.RAMStat" title="Permalink to this definition">¶</a></dt>
<dd><p>tag: <code class="docutils literal notranslate"><span class="pre">core.ram_usage</span></code></p>
<p>settings: none</p>
<p>Tracks the RAM usage of the user.
Also returns the top contributors to the RAM usage.</p>
</dd></dl>

<dl class="class">
<dt id="permon.backend.stats.core.GPUStat">
<em class="property">class </em><code class="descclassname">permon.backend.stats.core.</code><code class="descname">GPUStat</code><a class="headerlink" href="#permon.backend.stats.core.GPUStat" title="Permalink to this definition">¶</a></dt>
<dd><p>tag: <code class="docutils literal notranslate"><span class="pre">core.vram_usage</span></code></p>
<p>settings: none</p>
<p>Tracks the current vRAM usage of the user.
Currently only works for NVIDIA GPUs and <code class="docutils literal notranslate"><span class="pre">nvidia-smi</span></code>
must be installed. To check if it is installed, type <code class="docutils literal notranslate"><span class="pre">nvidia-smi</span></code>
in your command line and see if the command was found.</p>
</dd></dl>

<dl class="class">
<dt id="permon.backend.stats.core.ReadStat">
<em class="property">class </em><code class="descclassname">permon.backend.stats.core.</code><code class="descname">ReadStat</code><a class="headerlink" href="#permon.backend.stats.core.ReadStat" title="Permalink to this definition">¶</a></dt>
<dd><p>tag: <code class="docutils literal notranslate"><span class="pre">core.read_speed</span></code></p>
<p>settings: none</p>
<p>Tracks the disk read speed of the user.</p>
</dd></dl>

<dl class="class">
<dt id="permon.backend.stats.core.WriteStat">
<em class="property">class </em><code class="descclassname">permon.backend.stats.core.</code><code class="descname">WriteStat</code><a class="headerlink" href="#permon.backend.stats.core.WriteStat" title="Permalink to this definition">¶</a></dt>
<dd><p>tag: <code class="docutils literal notranslate"><span class="pre">core.write_speed</span></code></p>
<p>settings: none</p>
<p>Tracks the disk write speed of the user.</p>
</dd></dl>

<dl class="class">
<dt id="permon.backend.stats.core.CPUTempStat">
<em class="property">class </em><code class="descclassname">permon.backend.stats.core.</code><code class="descname">CPUTempStat</code><a class="headerlink" href="#permon.backend.stats.core.CPUTempStat" title="Permalink to this definition">¶</a></dt>
<dd><p>tag: <code class="docutils literal notranslate"><span class="pre">core.cpu_temp</span></code></p>
<p>settings: none</p>
<p>Tracks the CPU temperature of the user.</p>
</dd></dl>

<dl class="class">
<dt id="permon.backend.stats.jupyter.JupyterRAMUsage">
<em class="property">class </em><code class="descclassname">permon.backend.stats.jupyter.</code><code class="descname">JupyterRAMUsage</code><a class="headerlink" href="#permon.backend.stats.jupyter.JupyterRAMUsage" title="Permalink to this definition">¶</a></dt>
<dd><p>tag: <code class="docutils literal notranslate"><span class="pre">jupyter.ram_usage</span></code></p>
<p>settings:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;connection info&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;query interval [s]&quot;</span><span class="o">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Tracks the RAM usage of all variables in
a user-specified jupyter notebook. If no connection info is given in the
settings, take the kernel with the latest start date.</p>
<p><code class="docutils literal notranslate"><span class="pre">connection</span> <span class="pre">info</span></code> must be a string containing the info displayed when
running <code class="docutils literal notranslate"><span class="pre">%connect_info</span></code> in a jupyter notebook
(you can directly copy-paste it).</p>
<p><code class="docutils literal notranslate"><span class="pre">query</span> <span class="pre">interval</span> <span class="pre">[s]</span></code> specifies how often the thread running in the
jupyter notebook should read the variables. The lower this is, the higher
the resolution of the stat but it might start affecting the speed of
your notebook when too low.</p>
<p>Note that RAM tracked in this way is not equal to the actual RAM
the OS needs because some further optimization is done by e. g. numpy
to reduce the OS memory usage.</p>
</dd></dl>

</div>
<div class="section" id="extending-permon-with-custom-stats">
<h2>Extending permon with custom stats<a class="headerlink" href="#extending-permon-with-custom-stats" title="Permalink to this headline">¶</a></h2>
<p>Permon can be extended by adding custom stats. Custom stats have to be put in the <code class="docutils literal notranslate"><span class="pre">stats</span></code> subdirectory of the user
config directory. You can find your user config directory by executing <code class="docutils literal notranslate"><span class="pre">permon</span> <span class="pre">config</span> <span class="pre">show</span></code> and looking for <em>Config directory</em>.</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">On Linux, execute <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">`permon</span> <span class="pre">config</span> <span class="pre">show</span> <span class="pre">|</span> <span class="pre">grep</span> <span class="pre">-o</span> <span class="pre">&quot;\S*/permon$&quot;`</span></code> to directly change your directory to permon’s config directory.</p>
</div>
<p>In the config directory, make a subdirectory <code class="docutils literal notranslate"><span class="pre">stats</span></code> and create a file called <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;.permon.py</span></code> in the subdirectory where <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> is the name for
your suite of stats e. g. <code class="docutils literal notranslate"><span class="pre">custom.permon.py</span></code>.</p>
<p>The tag of your stat will then be <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;.&lt;base_tag&gt;</span></code> where <code class="docutils literal notranslate"><span class="pre">&lt;base_tag&gt;</span></code> is the static <code class="docutils literal notranslate"><span class="pre">base_tag</span></code> attribute
of your stat class.</p>
<p>You can now start creating stats in this file. They will automatically be discovered by permon. A simple custom stat could look like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">permon.backend</span> <span class="kn">import</span> <span class="n">Stat</span>


<span class="k">class</span> <span class="nc">SineStat</span><span class="p">(</span><span class="n">Stat</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Sine&#39;</span>
    <span class="n">base_tag</span> <span class="o">=</span> <span class="s1">&#39;sine&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fps</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SineStat</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">fps</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_stat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># get_stat is called once per frame to fetch the latest value for the stat</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">+=</span> <span class="mi">1</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">fps</span>
        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">maximum</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># sets the maximum value for the stat</span>
        <span class="c1"># if the stat has no fixed maximum, make it return None</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">minimum</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># sets the minimum value for the stat</span>
        <span class="c1"># if the stat has no fixed minimum, make it return None</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
<p>All stats must inherit from the <code class="docutils literal notranslate"><span class="pre">permon.backend.Stat</span></code> base class. Also, the parent constructor should be called at the end of <code class="docutils literal notranslate"><span class="pre">__init__</span></code>
to make sure <code class="docutils literal notranslate"><span class="pre">get_stat</span></code> can run successfully (the parent constructor needs to call it once to check whether the stat has a <a class="reference internal" href="#contributor-breakdown"><span class="std std-ref">contributor breakdown</span></a>).</p>
<p>View your first custom stat by running <code class="docutils literal notranslate"><span class="pre">permon</span> <span class="pre">native</span> <span class="pre">custom.sine</span></code> (or, of course, use another frontend).</p>
<div class="section" id="adding-settings-to-a-stat">
<h3>Adding settings to a stat<a class="headerlink" href="#adding-settings-to-a-stat" title="Permalink to this headline">¶</a></h3>
<p>Stats can have settings to conventienly change some aspects of the stat. Extending the example from above:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">permon.backend</span> <span class="kn">import</span> <span class="n">Stat</span>


<span class="k">class</span> <span class="nc">SineStat</span><span class="p">(</span><span class="n">Stat</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Sine&#39;</span>
    <span class="n">base_tag</span> <span class="o">=</span> <span class="s1">&#39;sine&#39;</span>
    <span class="n">default_settings</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;speed&#39;</span><span class="p">:</span> <span class="mf">1.</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fps</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SineStat</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">fps</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_stat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">+=</span> <span class="mi">1</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">fps</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;speed&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">maximum</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">minimum</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">default_settings</span></code> only stores the default settings. In the calculation, <code class="docutils literal notranslate"><span class="pre">self.settings</span></code> is used because it stores the settings that
are entered in the UI.</p>
<p>Every setting must have a default value. Every value should be a basic python data type (string, float, integer, …) because
permon will automatically cast the user-entered string to the type specified in the <code class="docutils literal notranslate"><span class="pre">default_settings</span></code>.</p>
<p>If you need more advanced data types like JSON, make the default value a string and manually convert it to the needed data type afterwards.</p>
</div>
<div class="section" id="making-a-stat-conditionally-available">
<h3>Making a stat conditionally available<a class="headerlink" href="#making-a-stat-conditionally-available" title="Permalink to this headline">¶</a></h3>
<p>Some stats are not always available, like <code class="xref py py-meth docutils literal notranslate"><span class="pre">permon.backend.stats.JupyterRAMUsage()</span></code> which needs <code class="docutils literal notranslate"><span class="pre">nvidia-smi</span></code> installed.</p>
<p>To add some logic to check whether your stat is available or not, implement the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Stat.check_availability()</span></code> method.
This method must raise a <code class="xref py py-meth docutils literal notranslate"><span class="pre">permon.exceptions.StatNotAvailableError()</span></code> if the stat is not available. <code class="docutils literal notranslate"><span class="pre">cls.settings</span></code> can also be used
in <code class="xref py py-meth docutils literal notranslate"><span class="pre">Stat.check_availability()</span></code> to e. g. disallow some settings. Further expanding the example from above:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">permon.backend</span> <span class="kn">import</span> <span class="n">Stat</span>
<span class="kn">from</span> <span class="nn">permon</span> <span class="kn">import</span> <span class="n">exceptions</span>


<span class="k">class</span> <span class="nc">SineStat</span><span class="p">(</span><span class="n">Stat</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Sine&#39;</span>
    <span class="n">base_tag</span> <span class="o">=</span> <span class="s1">&#39;sine&#39;</span>
    <span class="n">default_settings</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;speed&#39;</span><span class="p">:</span> <span class="mf">1.</span>
    <span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">check_availability</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;speed&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">exceptions</span><span class="o">.</span><span class="n">StatNotAvailableError</span><span class="p">(</span>
                <span class="s1">&#39;Speed must be greater than zero.&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fps</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SineStat</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">fps</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_stat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">+=</span> <span class="mi">1</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">fps</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="p">[</span><span class="s1">&#39;speed&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">maximum</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">minimum</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-a-contributor-breakdown-to-a-stat">
<span id="contributor-breakdown"></span><h3>Adding a contributor breakdown to a stat<a class="headerlink" href="#adding-a-contributor-breakdown-to-a-stat" title="Permalink to this headline">¶</a></h3>
<p>Stats can have a contributor breakdown. A contributor breakdown shows what contributes to the stat, e. g. how much of the CPU different
processes need for <code class="xref py py-meth docutils literal notranslate"><span class="pre">permon.backend.stats.CPUUsage()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">permon.backend</span> <span class="kn">import</span> <span class="n">Stat</span>


<span class="k">class</span> <span class="nc">SineModulationStat</span><span class="p">(</span><span class="n">Stat</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Sine Modulation&#39;</span>
    <span class="n">base_tag</span> <span class="o">=</span> <span class="s1">&#39;sine_modulation&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fps</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SineModulationStat</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">fps</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_stat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">+=</span> <span class="mi">1</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">fps</span>

        <span class="n">sine1</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span><span class="p">)</span>
        <span class="n">sine2</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">sine1</span> <span class="o">+</span> <span class="n">sine2</span><span class="p">,</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;sine1&#39;</span><span class="p">,</span> <span class="n">sine1</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;sine2&#39;</span><span class="p">,</span> <span class="n">sine2</span><span class="p">)</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">maximum</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># both sines have a maximum of 2 because they are offset by +1</span>
        <span class="k">return</span> <span class="mi">4</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">minimum</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Stats with a contributor breakdown must return the stat value and a list containing tuples of <code class="docutils literal notranslate"><span class="pre">(name,</span> <span class="pre">value)</span></code> for every contributor (<cite>sine1</cite> and <cite>sine2</cite> in the above example).
Permon will automatically handle the rest.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>The contributor breakdown of stats with a minimum of less than zero might have unexpected behaviour because the range of contributors is not well-defined
in that case.</p>
<p class="last">Negative contributors are also not handled well at the moment.</p>
</div>
<p>That already covers the full functionality of any stat.
To see how the prepackaged stats are implemented, see the <a class="reference external" href="https://github.com/bminixhofer/permon/blob/dev/permon/backend/stats/core.py">source on github</a>.</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../documentation/">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#"> User documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#what-is-permon">What is Permon?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synopsis">Synopsis</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#stats">Stats</a></li>
<li class="toctree-l2"><a class="reference internal" href="#extending-permon-with-custom-stats">Extending permon with custom stats</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-settings-to-a-stat">Adding settings to a stat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#making-a-stat-conditionally-available">Making a stat conditionally available</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-a-contributor-breakdown-to-a-stat">Adding a contributor breakdown to a stat</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributordoc/"> Contributor documentation</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../documentation/">Documentation overview</a><ul>
      <li>Previous: <a href="../documentation/" title="previous chapter">Welcome to permon’s documentation!</a></li>
      <li>Next: <a href="../contributordoc/" title="next chapter">Contributor documentation</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Benjamin Minixhofer.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/userdoc/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>